<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://duanjiuzhou.github.io/mengff.github.io/</id>
    <title>å­Ÿé¥­é¥­çš„ç‹¬ç«‹åšå®¢</title>
    <updated>2020-05-23T06:38:59.308Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://duanjiuzhou.github.io/mengff.github.io/"/>
    <link rel="self" href="https://duanjiuzhou.github.io/mengff.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://duanjiuzhou.github.io/mengff.github.io/images/avatar.png</logo>
    <icon>https://duanjiuzhou.github.io/mengff.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, å­Ÿé¥­é¥­çš„ç‹¬ç«‹åšå®¢</rights>
    <entry>
        <title type="html"><![CDATA[Git Commit Message æäº¤è§„èŒƒé…ç½®è¯´æ˜]]></title>
        <id>https://duanjiuzhou.github.io/mengff.github.io/post/git-commit-message-ti-jiao-gui-fan-pei-zhi-shuo-ming/</id>
        <link href="https://duanjiuzhou.github.io/mengff.github.io/post/git-commit-message-ti-jiao-gui-fan-pei-zhi-shuo-ming/">
        </link>
        <updated>2020-05-23T06:31:55.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="æè¿°">æè¿°</h2>
<p>é’ˆå¯¹ git commit log æäº¤è§„èŒƒé—®é¢˜ï¼Œéœ€è¦ç»Ÿä¸€è§„èŒƒï¼Œä¸ç„¶å¾ˆå®¹æ˜“é€ æˆè¯¯è§£ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="æè¿°">æè¿°</h2>
<p>é’ˆå¯¹ git commit log æäº¤è§„èŒƒé—®é¢˜ï¼Œéœ€è¦ç»Ÿä¸€è§„èŒƒï¼Œä¸ç„¶å¾ˆå®¹æ˜“é€ æˆè¯¯è§£ã€‚</p>
<!-- more -->
<h2 id="commitizen-æ›¿ä»£ä½ çš„-git-commit">Commitizen: æ›¿ä»£ä½ çš„ git commit</h2>
<h3 id="å…¨å±€å®‰è£…">å…¨å±€å®‰è£…</h3>
<pre><code>npm install -g commitizen
</code></pre>
<h3 id="é¡¹ç›®çº§å®‰è£…">é¡¹ç›®çº§å®‰è£…</h3>
<pre><code>npm install -D commitizen cz-customizable --dev
</code></pre>
<p><code>package.json</code>ä¸­é…ç½®:</p>
<pre><code>  &quot;config&quot;: {
    &quot;commitizen&quot;: {
      &quot;path&quot;: &quot;node_modules/cz-customizable&quot;
    }
  },
</code></pre>
<h3 id="é…ç½®è§„åˆ™">é…ç½®è§„åˆ™</h3>
<p>.cz-config.js ä¸­å†™å…¥è‡ªå®šä¹‰çš„é…ç½®ï¼š</p>
<pre><code>'use strict'

module.exports = {
  types: [
    {
      value: 'ğŸ’ª WIP',
      name: 'è¿›åº¦: å·¥ä½œè¿›åº¦',
    },
    {
      value: 'âœ¨ feat',
      name: 'åŠŸèƒ½: æ–°åŠŸèƒ½',
    },
    {
      value: 'ğŸ fix',
      name: 'ä¿®å¤: ä¿®å¤bug',
    },
    {
      value: 'ğŸ›  refactor',
      name: 'é‡æ„: ä»£ç é‡æ„',
    },
    {
      value: 'ğŸ“š  docs',
      name: 'æ–‡æ¡£: åªæœ‰æ–‡æ¡£å˜æ›´',
    },
    {
      value: 'ğŸ  test',
      name: 'æµ‹è¯•: æ·»åŠ ä¸€ä¸ªæµ‹è¯•',
    },
    {
      value: 'ğŸ—¯ chore',
      name: 'å·¥å…·: æ²¡æœ‰ä¿®æ”¹æºä»£ç ï¼Œåªæ˜¯å˜æ›´æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·ã€‚',
    },
    {
      value: 'ğŸ’… style',
      name: 'æ ·å¼: ç©ºæ ¼ï¼Œåˆ†å·ç­‰æ ¼å¼ä¿®å¤ã€‚',
    },
    {
      value: 'âª revert',
      name: 'å›æ»š: ä»£ç å›é€€ã€‚',
    },
    {
      value: 'ğŸ  perf',
      name: 'æ€§èƒ½: æå‡æ€§èƒ½ã€‚',
    },
    {
      value: 'ğŸ— build',
      name: 'æ„å»º: å˜æ›´é¡¹ç›®æ„å»ºæˆ–å¤–éƒ¨ä¾èµ–ï¼ˆä¾‹å¦‚scopes: webpackã€gulpã€npmç­‰ï¼‰',
    },
    {
      value: 'ğŸ•¹ ci',
      name:
        'é›†æˆ: æ›´æ”¹æŒç»­é›†æˆè½¯ä»¶çš„é…ç½®æ–‡ä»¶å’Œpackageä¸­çš„scriptså‘½ä»¤ï¼Œä¾‹å¦‚scopes: Travis, Circleç­‰',
    },
  ],
  scopes: [],
  messages: {
    type: 'é€‰æ‹©ä¸€ç§ä½ çš„æäº¤ç±»å‹:',
    scope: 'é€‰æ‹©ä¸€ä¸ªscope (å¯é€‰):',
    // used if allowCustomScopes is true
    customScope: 'Denote the SCOPE of this change:',
    subject: 'çŸ­è¯´æ˜:\n',
    body: 'é•¿è¯´æ˜ï¼Œä½¿ç”¨&quot;|&quot;æ¢è¡Œ(å¯é€‰)ï¼š\n',
    breaking: 'éå…¼å®¹æ€§è¯´æ˜ (å¯é€‰):\n',
    footer: 'å…³è”å…³é—­çš„issueï¼Œä¾‹å¦‚ï¼š#31, #34(å¯é€‰):\n',
    confirmCommit: 'ç¡®å®šæäº¤è¯´æ˜ï¼Ÿ',
  },
  footerPrefix: 'TAPD: ',
  allowCustomScopes: true,
  allowBreakingChanges: ['ç‰¹æ€§', 'ä¿®å¤'],
  skipQuestions: ['scope', 'body', 'footer'],
}
</code></pre>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<figure data-type="image" tabindex="1"><img src="evernotecid://51D73625-C4C9-446A-B4F3-A332FC822AA9/appyinxiangcom/24946477/ENResource/p159" alt="5ad4a04c69a4eecb2818abc549237d6a.png" loading="lazy"></figure>
<h3 id="commitlint-æ ¡éªŒä½ çš„-message">Commitlint: æ ¡éªŒä½ çš„ message</h3>
<p>commitlint: å¯ä»¥å¸®åŠ©æˆ‘ä»¬ lint commit messages, å¦‚æœæˆ‘ä»¬æäº¤çš„ä¸ç¬¦åˆæŒ‡å‘çš„è§„èŒƒ, ç›´æ¥æ‹’ç»æäº¤ã€‚</p>
<pre><code>yarn add commitlint-config-cz @commitlint/cli --dev
</code></pre>
<p>.commitlintrc.js ä¸­å†™å…¥:</p>
<pre><code>module.exports = {
  extends: [
    'cz'
  ],
  rules: {
  }
};
</code></pre>
<h3 id="ç»“åˆ-husky">ç»“åˆ Husky</h3>
<p>æ ¡éªŒ commit message çš„æœ€ä½³æ–¹å¼æ˜¯ç»“åˆ git hook, æ‰€ä»¥éœ€è¦é…åˆ Huskyã€‚</p>
<pre><code>npm i husky@next
</code></pre>
<p>package.json ä¸­æ·»åŠ :</p>
<pre><code>&quot;husky&quot;: {
    &quot;hooks&quot;: {
      ...,
      &quot;commit-msg&quot;: &quot;commitlint -e $GIT_PARAMS&quot;
    }
  },
</code></pre>
<p><a href="https://juejin.im/post/5afc5242f265da0b7f44bee4">å‚è€ƒ</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ»¡è¶³å¤§å±åœºæ™¯çš„æ‹–æ‹½ç»„ä»¶åŸç†è¯´æ˜]]></title>
        <id>https://duanjiuzhou.github.io/mengff.github.io/post/man-zu-da-ping-chang-jing-de-tuo-zhuai-zu-jian-yuan-li-shuo-ming/</id>
        <link href="https://duanjiuzhou.github.io/mengff.github.io/post/man-zu-da-ping-chang-jing-de-tuo-zhuai-zu-jian-yuan-li-shuo-ming/">
        </link>
        <updated>2020-05-22T01:50:31.000Z</updated>
        <summary type="html"><![CDATA[<p>âœï¸ æºäºå¤§å±åœºæ™¯ä¸‹ï¼Œç”±äºè¿›è¡Œé€‚é…é¡µé¢å°ºå¯¸ï¼Œéšç€é¡µé¢å°ºå¯¸çš„é¢‘ç¹å˜åŒ–ï¼Œå¯¼è‡´æ‹–æ‹½ç»„ä»¶çš„å®šä½å¤±æ•ˆï¼Œå¼•èµ·æ‹–æ‹½å¼‚å¸¸......</p>
]]></summary>
        <content type="html"><![CDATA[<p>âœï¸ æºäºå¤§å±åœºæ™¯ä¸‹ï¼Œç”±äºè¿›è¡Œé€‚é…é¡µé¢å°ºå¯¸ï¼Œéšç€é¡µé¢å°ºå¯¸çš„é¢‘ç¹å˜åŒ–ï¼Œå¯¼è‡´æ‹–æ‹½ç»„ä»¶çš„å®šä½å¤±æ•ˆï¼Œå¼•èµ·æ‹–æ‹½å¼‚å¸¸......</p>
<!-- more -->
<h3 id="åœºæ™¯">åœºæ™¯ğŸ¦„</h3>
<p><strong>ç»„ä»¶éœ€è¦æ»¡è¶³åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>åŸºæœ¬PCç«¯æ‹–æ‹½åŠŸèƒ½ï¼›</li>
<li>é€‚é…å±å¹•å°ºå¯¸å˜åŒ–ï¼›</li>
<li>æ”¯æŒä¼ å…¥ç»„ä»¶çš„å®šä½<code>top, left</code>ï¼›ï¼ˆé˜²æ­¢çªå‘æ€§é¡µé¢å°ºå¯¸æ¯”ä¾‹å˜åŒ–ï¼Œæ‹–æ‹½ç»„ä»¶å®šä½å¤±æ•ˆï¼‰</li>
</ul>
<h3 id="æ‹–æ‹½åŸç†">æ‹–æ‹½åŸç†</h3>
<h4 id="æ‰€éœ€äº‹ä»¶">æ‰€éœ€äº‹ä»¶</h4>
<ul>
<li>onMousedown</li>
<li>onMouseup</li>
<li>onMousemove</li>
</ul>
<h4 id="åŸç†è¯´æ˜">åŸç†è¯´æ˜</h4>
<h5 id="åŸç†å›¾">åŸç†å›¾ğŸ¥</h5>
<figure data-type="image" tabindex="1"><img src="https://duanjiuzhou.github.io/mengff.github.io//post-images/1590112364894.png" alt="" loading="lazy"></figure>
<h5 id="çŠ¶æ€å‚æ•°">çŠ¶æ€å‚æ•°</h5>
<pre><code>const dragData = 
{
    // xåç§»å€¼
    offsetX: 0,
    // yåç§»å€¼
    offsetY: 0,
    // æ˜¯å¦å¼€å§‹æ‹–æ‹½
    isDrag: false,
    // å½“å‰ç»„ä»¶è·ç¦»å½“å‰çª—å£xè½´çš„è·ç¦»
    distanceX: 0,
    // å½“å‰ç»„ä»¶è·ç¦»å½“å‰çª—å£yè½´çš„è·ç¦»
    distanceY: 0,
    // ç»„ä»¶topå®šä½
    top: 0,
    // ç»„ä»¶leftå®šä½
    left: 0,
}
</code></pre>
<h5 id="æ­¥éª¤">æ­¥éª¤</h5>
<blockquote>
<p>ç¬¬ä¸€æ­¥</p>
</blockquote>
<p>é¼ æ ‡ç§»åŠ¨åˆ°ç»„ä»¶å¯è§¦å‘åŒºåŸŸï¼Œé¼ æ ‡æŒ‰ä¸‹ï¼Œè§¦å‘<code>onMousedown</code>äº‹ä»¶ï¼Œè®°å½•é¼ æ ‡ç‚¹å‡»ä½ç½®ï¼Œå¼€å¯æ‹–åŠ¨</p>
<pre><code>// è®°å½•é¼ æ ‡ç‚¹å‡»ä½ç½®
dragData.distanceX = e.clientX
dragData.distanceY = e.clientY
// å¼€å¯æ‹–åŠ¨
 dragData.isDrag = true
</code></pre>
<blockquote>
<p>ç¬¬äºŒæ­¥</p>
</blockquote>
<p>é¼ æ ‡ç§»åŠ¨ï¼Œè§¦å‘<code>onMousemove</code>äº‹ä»¶ï¼Œåˆ¤æ–­<code>dragData.isDrag</code>æ˜¯å¦ä¸ºçœŸï¼Œä¸ºå‡è·³å‡ºæ‰§è¡Œï¼Œä¸ºçœŸç»§ç»­æ‰§è¡Œã€‚é€šè¿‡è®¡ç®—ç§»åŠ¨çš„è·ç¦»ï¼Œè·å–å½“å‰ç»„ä»¶ä½ç½®ï¼Œç®—å‡ºæœ€æ–°ä½ç½®ï¼Œå¯¹ç»„ä»¶è¿›è¡Œæ›´æ–°ä½ç½®ä¿¡æ¯ã€‚å¹¶è®°å½•å½“å‰ç»„ä»¶è·ç¦»å½“å‰çª—å£çš„è·ç¦»ã€æ­¤æ—¶çš„åç§»ä½ç½®ï¼›</p>
<p><strong>è®¡ç®—ç§»åŠ¨çš„è·ç¦»ï¼š</strong></p>
<p>è®¡ç®—ç§»åŠ¨çš„è·ç¦» = æœ¬æ¬¡è·ç¦»å½“å‰çª—å£ç§»åŠ¨è·ç¦» - ä¸Šæ¬¡è·ç¦»å½“å‰çª—å£ç§»åŠ¨è·ç¦» + ä¸Šä¸€æ¬¡ç§»åŠ¨è·ç¦»</p>
<pre><code>const moveDistanceX = e.clientX - distanceX + offsetX
const moveDistanceY = e.clientY - distanceY + offsetY
</code></pre>
<p><strong>è·å–æœ€æ–°ä½ç½®ï¼š</strong></p>
<p>ä¸å¸¦é¡µé¢ç¼©æ”¾ï¼š</p>
<p>æœ€æ–°ä½ç½® = å½“å‰ç»„ä»¶çš„ä½ç½® + ç§»åŠ¨çš„è·ç¦»</p>
<p>å¸¦é¡µé¢ç¼©æ”¾ï¼š</p>
<p>æœ€æ–°ä½ç½® = å½“å‰ç»„ä»¶çš„ä½ç½® + ç§»åŠ¨çš„è·ç¦»/é¡µé¢ç¼©æ”¾ç³»æ•°</p>
<pre><code>const _left = left + moveDistanceX / scaleX
const _top = top + moveDistanceY / scaleY
</code></pre>
<p><strong>æ›´æ–°ç»„ä»¶ä½ç½®ä¿¡æ¯ï¼š</strong></p>
<pre><code>el.style.left = _left + 'px'
el.style.top = _top + 'px'
</code></pre>
<p><strong>è®°å½•çŠ¶æ€ï¼š</strong></p>
<p>è®°å½•å½“å‰ç»„ä»¶è·ç¦»å½“å‰çª—å£çš„è·ç¦»ï¼š</p>
<pre><code>dragData.distanceX = e.clientX
dragData.distanceY = e.clientY
</code></pre>
<p>è®°å½•å½“å‰åç§»ä½ç½®</p>
<pre><code>dragData.offsetX = moveDistanceX
dragData.offsetY = moveDistanceY
</code></pre>
<blockquote>
<p>ç¬¬ä¸‰æ­¥</p>
</blockquote>
<p>é¼ æ ‡æŠ¬èµ·ï¼Œè§¦å‘<code>onMouseup</code>äº‹ä»¶ï¼Œå…³é—­æ‹–åŠ¨ï¼›</p>
<pre><code>dragData.isDrag = false
</code></pre>
<h3 id="é€‚é…å±å¹•å°ºå¯¸å˜åŒ–">é€‚é…å±å¹•å°ºå¯¸å˜åŒ–</h3>
<h4 id="åœºæ™¯-2">åœºæ™¯</h4>
<p>ç”¨æˆ·æ§åˆ¶å±å¹•ï¼Œä½¿å±å¹•å°ºå¯¸å‘é€å˜åŒ–ï¼Œä½¿æ‹–æ‹½ç»„ä»¶ä¿å­˜çš„å®šä½ä¿¡æ¯è¿‡æœŸï¼Œå¯¼è‡´æ‹–æ‹½å¼‚å¸¸ã€‚</p>
<h4 id="æ‰€éœ€äº‹ä»¶-2">æ‰€éœ€äº‹ä»¶</h4>
<ul>
<li>onResize</li>
</ul>
<h4 id="åŸç†è¯´æ˜-2">åŸç†è¯´æ˜</h4>
<p>å‘<code>window</code>ç»‘å®š<code>resize</code>äº‹ä»¶ï¼Œç›‘æ§é¡µé¢å°ºå¯¸å˜åŒ–ï¼Œå½“å°ºå¯¸å‘ç”Ÿå˜åŒ–ï¼Œæˆ–è€…æœ€æ–°ç»„ä»¶å®šä½ï¼Œæ¸…ç©ºä¿å­˜çš„å®šä½çŠ¶æ€ä¿¡æ¯ã€‚</p>
<pre><code>const { left, top } = el.style
const _top = +top.replace(/px/, '')
const _left = +left.replace(/px/, '')
dragData = {
   offsetX: 0,
   offsetY: 0,
   isDrag: false,
   distanceX: 0,
   distanceY: 0,
   top: _top,
   left: _left,
}
</code></pre>
<h3 id="çªå‘æ€§é¡µé¢å°ºå¯¸æ¯”ä¾‹å˜åŒ–å®šä½ä¿®å¤">çªå‘æ€§é¡µé¢å°ºå¯¸æ¯”ä¾‹å˜åŒ–å®šä½ä¿®å¤</h3>
<h4 id="åœºæ™¯-3">åœºæ™¯</h4>
<p>æ²¡æœ‰é€šè¿‡<code>resize</code>äº‹ä»¶è§¦å‘çš„é¡µé¢å°ºå¯¸å˜åŒ–ï¼Œé€šè¿‡ä¿®æ”¹é¡µé¢å®½é«˜ç­‰å¯¼è‡´é¡µé¢å°ºå¯¸å˜åŒ–ï¼Œè¿™æ—¶ç»„ä»¶å®šä½ä¸å‡†ï¼Œéœ€è¦æ¢å¤åŒæ¯”ä¾‹ä¸‹ç»„ä»¶å®šä½ï¼Œå¹¶ä¿è¯ç»„ä»¶æ‹–æ‹½æ— å¼‚å¸¸ã€‚</p>
<h4 id="æ¡ä»¶">æ¡ä»¶</h4>
<p>é¡µé¢åŸå§‹å®½é«˜ï¼Œå˜åŒ–åé¡µé¢å®½é«˜</p>
<h4 id="æ–¹æ¡ˆ">æ–¹æ¡ˆ</h4>
<p>æ ¹æ®é¡µé¢æ¯”ä¾‹ï¼Œè®¡ç®—å‡ºæœ€æ–°ç»„ä»¶ä½ç½®ï¼Œå¯¹ç»„ä»¶è¿›è¡Œæ›´æ–°ä½ç½®ä¿¡æ¯ï¼Œå¹¶æ¸…ç©ºä¿å­˜çš„å®šä½çŠ¶æ€ä¿¡æ¯ã€‚</p>
<p>é¡µé¢æ¯”ä¾‹ = é¡µé¢åŸå§‹å®½é«˜ / å˜åŒ–åé¡µé¢å®½é«˜</p>
<p>æœ€æ–°ç»„ä»¶ä½ç½® = å½“å‰ç»„ä»¶ä½ç½® / é¡µé¢æ¯”ä¾‹</p>
]]></content>
    </entry>
</feed>